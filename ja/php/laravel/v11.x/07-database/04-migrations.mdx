---
filePath: "source/laravel/migrations.md"
title: "Database: Migrations"
description: "Database: Migrations"
org_path: "/docs/11.x/migrations"
is_empty: "false"
nav_title: "Migrations"
org_title: "Database: Migrations"
---

- [Introduction](#introduction)
- [Generating Migrations](#generating-migrations)
  - [Squashing Migrations](#squashing-migrations)
- [Migration Structure](#migration-structure)
- [Running Migrations](#running-migrations)
  - [Rolling Back Migrations](#rolling-back-migrations)
- [Tables](#tables)
  - [Creating Tables](#creating-tables)
  - [Updating Tables](#updating-tables)
  - [Renaming / Dropping Tables](#renaming-and-dropping-tables)
- [Columns](#columns)
  - [Creating Columns](#creating-columns)
  - [Available Column Types](#available-column-types)
  - [Column Modifiers](#column-modifiers)
  - [Modifying Columns](#modifying-columns)
  - [Renaming Columns](#renaming-columns)
  - [Dropping Columns](#dropping-columns)
- [Indexes](#indexes)
  - [Creating Indexes](#creating-indexes)
  - [Renaming Indexes](#renaming-indexes)
  - [Dropping Indexes](#dropping-indexes)
  - [Foreign Key Constraints](#foreign-key-constraints)
- [Events](#events)

<a name="introduction"></a>

## Introduction

Migrations は、あなたの database に対するバージョンコントロールのようなもので、チームがアプリケーションの database schema 定義を定義し共有することを可能にします。ソースコントロールから変更を引き込んだ後に、チームメイトに手動で column をローカルの database schema に追加するよう指示したことがあるなら、あなたは database migrations が解決する問題に直面していることでしょう。

Laravel の`Schema`[facade](/ja/php/laravel/v11.x/03-architecture-concepts/04-facades)は、Laravel がサポートするすべての database システムでテーブルを作成し操作するための、database に依存しないサポートを提供します。通常、migrations はこの facade を使用して、database のテーブルと列を作成し、変更します。

<a name="generating-migrations"></a>

## Generating Migrations

`make:migration` [Artisan command](/ja/php/laravel/v11.x/05-digging-deeper/artisan)を使用して database のマイグレーションを生成することができます。新しいマイグレーションはあなたの`database/migrations`ディレクトリに配置されます。各マイグレーションのファイル名には、 Laravel が migrations の順序を決定するための timestamp が含まれています：

```shell
php artisan make:migration create_flights_table
```

Laravel は、マイグレーションの名前を使用して、マイグレーションが新しいテーブルを作成するかどうか、そしてテーブルの名前を attempt で推測します。もし Laravel がマイグレーション名からテーブル名を判断できた場合、 Laravel は生成されたマイグレーションファイルに指定したテーブルを事前に記入します。それ以外の場合は、手動でマイグレーションファイルにテーブルを指定することもできます。

生成されたマイグレーションのための custom path を指定したい場合は、`make:migration` command を実行する際に`--path`オプションを使用できます。指定する path は、アプリケーションのベース path に対する相対パスであるべきです。

> [!NOTE]  
> マイグレーションのスタブは[stub publishing](/ja/php/laravel/v11.x/05-digging-deeper/artisan#stub-customization)を使用してカスタマイズすることができます。

<a name="squashing-migrations"></a>

### Migrations の統合

あなたが application を build していくと、時間とともにますます多くの migrations が溜まっていくかもしれません。これにより、`database/migrations`ディレクトリが数百もの migrations で肥大化する可能性があります。もしご希望であれば、 migrations を single の SQL ファイルに"squash"することができます。始めるには、`schema:dump` command を実行してください。

```shell
php artisan schema:dump

# Dump the current database schema and prune all existing migrations...
php artisan schema:dump --prune
```

この command を実行すると、Laravel は "schema" ファイルを application の `database/schema` ディレクトリに書き込みます。 schema ファイルの名前は、使用する database connection に対応します。これで、あなたが database を migrate しようと attempt し、他の migrations が実行されていない場合、Laravel は最初に、使用している database connection の schema ファイルの SQL 文を実行します。 schema ファイルの SQL 文を実行した後、Laravel は、schema dump の一部ではなかった残りの migrations を実行します。

アプリケーションのテストが、通常のローカル開発時に使用するものとは異なる database connection を使用している場合は、テストが database を build できるように、その database connection を使用して schema ファイルをダンプしたことを確認する必要があります。これは、通常のローカル開発時に使用する database connection をダンプした後に行うことをお勧めします：

```shell
php artisan schema:dump
php artisan schema:dump --database=testing --prune
```

あなたは、チームの他の新しい開発者があなたのアプリケーションの初期の database 構造を素早く作成できるように、 database schema ファイルをソースコントロールにコミットすべきです。

> [!WARNING]  
> マイグレーションのスカッシュは、 MySQL 、PostgreSQL、および SQLite データベースのみで利用可能であり、データベースのコマンドライン client を利用します。

<a name="migration-structure"></a>

## Migration Structure

migration の class は 2 つのメソッドを含んでいます：`up`と`down`です。`up`の method は新しいテーブル、列、またはインデックスをあなたの database に追加するために使用され、一方で`down`の method は`up`の method で実行された操作を逆にするべきです。

これらの両方の方法で、明快にテーブルを作成および変更するために Laravel schema ビルダーを使用することができます。 `Schema`ビルダーで利用できるすべての方法については、[そのドキュメント](#creating-tables)をご覧ください。たとえば、次のマイグレーションは `flights` テーブルを作成します。

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('flights', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->string('airline');
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::drop('flights');
    }
};
```

<a name="setting-the-migration-connection"></a>

#### Connection の移行設定

あなたのマイグレーションがアプリケーションの default database connection 以外の database connection とやり取りする場合、マイグレーションの `$connection` プロパティを設定する必要があります。

```php
/**
 * The database connection that should be used by the migration.
 *
 * @var string
 */
protected $connection = 'pgsql';

/**
 * Run the migrations.
 */
public function up(): void
{
    // ...
}
```

<a name="running-migrations"></a>

## Running Migrations

全ての未終了の migrations を実行するには、`migrate` Artisan command を実行します：

```shell
php artisan migrate
```

これまでにどの migrations が実行されたかを見たい場合、`migrate:status` Artisan command を使用することができます：

```shell
php artisan migrate:status
```

migrations が実際に実行することなく、将来実行される SQL 文を確認したい場合は、`migrate`の`--pretend`フラグを提供できます。

```shell
php artisan migrate --pretend
```

#### マイグレーション実行の分離

あなたが複数のサーバーに application をデプロイし、 deployment process の一部として migrations を実行している場合、2 つのサーバーが同時に database への migrate を試みることは望ましくないでしょう。これを避けるために、`migrate` command を呼び出すときに `isolated` オプションを使用することができます。

`isolated`オプションが提供されると、 Laravel はあなたのアプリケーションの cache driver を使用してアトミックロックを獲得し、その後に migrations を実行しようとします。そのロックが保持されている間に他のすべての試みが`migrate` command を実行することはありません；しかし、 command はそれでも成功した終了 status code で終了します。

```shell
php artisan migrate --isolated
```

> [!WARNING]  
> To utilize this feature, your application must be using the `memcached`, `redis`, `dynamodb`, `database`, `file`, or `array` cache driver as your application's default cache driver. In addition, all servers must be communicating with the same central cache server.

<a name="forcing-migrations-to-run-in-production"></a>

#### Migrations を Production で実行するための強制

一部の migration 操作は破壊的であり、つまり data を失う可能性があります。これらの commands があなたの production database に対して実行される前に、確認のための prompt が表示されます。prompt なしで commands を強制的に実行するには、`--force`フラグを使用してください。

```shell
php artisan migrate --force
```

<a name="rolling-back-migrations"></a>

### Migrations のロールバック

最新のマイグレーション操作を元に戻すには、`rollback` Artisan command を使用することができます。この command は、最後の"batch"の migrations を元に戻します。これには複数のマイグレーションファイルが含まれる場合があります:

```shell
php artisan migrate:rollback
```

限られた数の migrations をロールバックすることができます。それには、`rollback` command に`step`オプションを指定します。例えば、以下の command は最後の 5 つの migrations をロールバックします:

```shell
php artisan migrate:rollback --step=5
```

`batch`option を`rollback` command に提供することで、特定の"batch"の migrations をロールバックすることができます。ここで、`batch`option は、application の`migrations` database テーブル内の batch value に対応します。例えば、以下の command は、batch3 のすべての migrations をロールバックします：

```shell
php artisan migrate:rollback --batch=3
```

`migrate:rollback`の`--pretend`フラグを提供することで、実際に実行せずに migrations によって実行される SQL 文を表示したい場合：

```shell
php artisan migrate:rollback --pretend
```

`migrate:reset`の command は、application のすべての migrations をロールバックします:

```shell
php artisan migrate:reset
```

<a name="roll-back-migrate-using-a-single-command"></a>

#### ロールバックと Migrate を Single Command を使用して行う

`migrate:refresh`の command は、すべての migrations をロールバックし、その後`migrate`の command を実行します。この command は、実質的にあなたの全ての database を再作成します。

```shell
php artisan migrate:refresh

# Refresh the database and run all database seeds...
php artisan migrate:refresh --seed
```

`step`option を`refresh`の command に提供することで、限定された数の migrations をロールバックし、再マイグレートすることができます。例えば、以下の command は最後の 5 つの migrations をロールバックし、再マイグレーションします：

```shell
php artisan migrate:refresh --step=5
```

<a name="drop-all-tables-migrate"></a>

#### すべてのテーブルをドロップし、 Migrate

`migrate:fresh` command は、すべてのテーブルを database から削除した後、`migrate` command を実行します。

```shell
php artisan migrate:fresh

php artisan migrate:fresh --seed
```

default では、`migrate:fresh` command は default の database 接続からのみテーブルをドロップします。しかし、`--database` option を使用して移行すべき database 接続 を指定することもできます。 database 接続名は、application の `database` [設定ファイル](/ja/php/laravel/v11.x/02-getting-started/02-configuration)で定義された 接続 に対応しているべきです。

```shell
php artisan migrate:fresh --database=admin
```

> [!WARNING]  
> `migrate:fresh` command は、プレフィックスに関係なくすべての database テーブルを削除します。 他の application と database を共有して development している場合、この command は慎重に使用する必要があります。

<a name="tables"></a>

## Tables

<a name="creating-tables"></a>

### テーブルの作成

新しい database テーブルを作成するには、 `Schema` facade 上の `create` method を使用します。 `create` method は 2 つの引数を受け取ります。一つ目はテーブルの名前で、二つ目は新しいテーブルを定義するために使用される `Blueprint` object を受け取るクロージャです。

```php
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

Schema::create('users', function (Blueprint $table) {
    $table->id();
    $table->string('name');
    $table->string('email');
    $table->timestamps();
});
```

テーブルを作成する際には、 schema ビルダーの[“ column メソッド](#creating-columns)を使ってテーブルの列を定義することができます。

<a name="determining-table-column-existence"></a>

#### テーブル / Column の存在を確認する

`hasTable`、`hasColumn`、および`hasIndex`メソッドを使用して、テーブル、 column 、またはインデックスの存在を確認することができます。

```php
if (Schema::hasTable('users')) {
    // The "users" table exists...
}

if (Schema::hasColumn('users', 'email')) {
    // The "users" table exists and has an "email" column...
}

if (Schema::hasIndex('users', ['email'], 'unique')) {
    // The "users" table exists and has a unique index on the "email" column...
}
```

<a name="database-connection-table-options"></a>

#### Database Connection とテーブル Options

あなたがアプリケーションの default connection でない database connection に対して schema 操作を実行したい場合は、`connection` method を使用してください:

```php
Schema::connection('sqlite')->create('users', function (Blueprint $table) {
    $table->id();
});
```

さらに、テーブルの作成に関連する他の側面を定義するために、いくつかの他のプロパティやメソッドを使用することができます。`engine`プロパティは、 MySQL を使用してテーブルの storage エンジンを指定するために使用することができます。

```php
Schema::create('users', function (Blueprint $table) {
    $table->engine('InnoDB');

    // ...
});
```

`charset` と `collation` プロパティは、 MySQL を使用してテーブルを作成する際に、文字セットと照合順序を指定するために使用できます：

```php
Schema::create('users', function (Blueprint $table) {
    $table->charset('utf8mb4');
    $table->collation('utf8mb4_unicode_ci');

    // ...
});
```

`temporary` method は、テーブルが"temporary"であることを示すために使用できます。一時テーブルは現在の接続の database session にのみ表示され、connection が閉じられると自動的に削除されます:

```php
Schema::create('calculations', function (Blueprint $table) {
    $table->temporary();

    // ...
});
```

"comment"を database テーブルに追加したい場合は、テーブルインスタンスに対して `comment` method を呼び出すことができます。テーブル comments は現在、MySQL と PostgreSQL のみがサポートされています:

```php
Schema::create('calculations', function (Blueprint $table) {
    $table->comment('Business calculations');

    // ...
});
```

<a name="updating-tables"></a>

### テーブルの更新

`Schema`の facade 上の`table`の method は、既存のテーブルを update するために使用することができます。`create`の method 同様に、`table`の method は二つの引数を受け付けます：テーブルの名前と、テーブルに列やインデックスを追加するために使用できる`Blueprint`インスタンスを受け取るクロージャです：

```php
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

Schema::table('users', function (Blueprint $table) {
    $table->integer('votes');
});
```

<a name="renaming-and-dropping-tables"></a>

### テーブルの名前変更 / 削除

既存の database テーブルの名前を変更するには、`rename` method を使用します:

```php
use Illuminate\Support\Facades\Schema;

Schema::rename($from, $to);
```

既存のテーブルを削除するには、`drop`または`dropIfExists`メソッドを使用できます：

```php
Schema::drop('users');

Schema::dropIfExists('users');
```

<a name="renaming-tables-with-foreign-keys"></a>

#### 外部の Keys を使用してテーブルの名前を変更する

テーブルの名前を変更する前に、テーブルの外部キー制約が、 Laravel が規則に基づいて名前を割り当てるのではなく、マイグレーションファイルで明示的な名前を持っていることを確認するべきです。そうでなければ、外部キー制約の名前は古いテーブル名を参照することになります。

<a name="columns"></a>

## Columns

<a name="creating-columns"></a>

### 列の作成

`Schema`の facade である`table`の method は、既存のテーブルを update するために使用することができます。 `create`の method と同様に、`table`の method は 2 つの引数を受け入れます：テーブルの名前と、テーブルに列を追加するために使用できる`Illuminate\Database\Schema\Blueprint`インスタンスを受け取るクロージャです：

```php
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

Schema::table('users', function (Blueprint $table) {
    $table->integer('votes');
});
```

<a name="available-column-types"></a>

### 利用可能な Column タイプ

schema ビルダーブループリントは、 database のテーブルに追加できるさまざまなタイプの列に対応する様々なメソッドを提供します。利用可能なメソッドは下記の表に列挙されています。

<div class="collection-method-list" markdown="1">

[bigIncrements](#column-method-bigIncrements) [bigInteger](#column-method-bigInteger) [binary](#column-method-binary) [boolean](#column-method-boolean) [char](#column-method-char) [dateTimeTz](#column-method-dateTimeTz) [dateTime](#column-method-dateTime) [date](#column-method-date) [decimal](#column-method-decimal) [double](#column-method-double) [enum](#column-method-enum) [float](#column-method-float) [foreignId](#column-method-foreignId) [foreignIdFor](#column-method-foreignIdFor) [foreignUlid](#column-method-foreignUlid) [foreignUuid](#column-method-foreignUuid) [geography](#column-method-geography) [geometry](#column-method-geometry) [id](#column-method-id) [increments](#column-method-increments) [integer](#column-method-integer) [ipAddress](#column-method-ipAddress) [json](#column-method-json) [jsonb](#column-method-jsonb) [longText](#column-method-longText) [macAddress](#column-method-macAddress) [mediumIncrements](#column-method-mediumIncrements) [mediumInteger](#column-method-mediumInteger) [mediumText](#column-method-mediumText) [morphs](#column-method-morphs) [nullableMorphs](#column-method-nullableMorphs) [nullableTimestamps](#column-method-nullableTimestamps) [nullableUlidMorphs](#column-method-nullableUlidMorphs) [nullableUuidMorphs](#column-method-nullableUuidMorphs) [rememberToken](#column-method-rememberToken) [set](#column-method-set) [smallIncrements](#column-method-smallIncrements) [smallInteger](#column-method-smallInteger) [softDeletesTz](#column-method-softDeletesTz) [softDeletes](#column-method-softDeletes) [string](#column-method-string) [text](#column-method-text) [timeTz](#column-method-timeTz) [time](#column-method-time) [timestampTz](#column-method-timestampTz) [timestamp](#column-method-timestamp) [timestampsTz](#column-method-timestampsTz) [timestamps](#column-method-timestamps) [tinyIncrements](#column-method-tinyIncrements) [tinyInteger](#column-method-tinyInteger) [tinyText](#column-method-tinyText) [unsignedBigInteger](#column-method-unsignedBigInteger) [unsignedInteger](#column-method-unsignedInteger) [unsignedMediumInteger](#column-method-unsignedMediumInteger) [unsignedSmallInteger](#column-method-unsignedSmallInteger) [unsignedTinyInteger](#column-method-unsignedTinyInteger) [ulidMorphs](#column-method-ulidMorphs) [uuidMorphs](#column-method-uuidMorphs) [ulid](#column-method-ulid) [uuid](#column-method-uuid) [year](#column-method-year)

</div>

<a name="column-method-bigIncrements"></a>

#### `bigIncrements()`

`bigIncrements` method は、オートインクリメントの `UNSIGNED BIGINT` ( primary key)に相当する column を作成します：

```php
$table->bigIncrements('id');
```

<a name="column-method-bigInteger"></a>

#### `bigInteger()`

`bigInteger`の method は、`BIGINT`相当の column を作成します：

```php
$table->bigInteger('votes');
```

<a name="column-method-binary"></a>

#### `binary()`

`binary` method は、`BLOB`相当の column を作成します：

```php
$table->binary('photo');
```

MySQL 、 MariaDB 、または SQL Server を使用する場合、`length`と`fixed`の引数を渡して `VARBINARY`または`BINARY`に相当する column を作成できます。

```php
$table->binary('data', length: 16); // VARBINARY(16)

$table->binary('data', length: 16, fixed: true); // BINARY(16)
```

<a name="column-method-boolean"></a>

#### `boolean()`

`BOOLEAN` method は、`boolean`相当の column を作成します:

```php
$table->boolean('confirmed');
```

<a name="column-method-char"></a>

#### `char()`

`CHAR` method は、指定された length の`char`相当の column を作成します。

```php
$table->char('name', length: 100);
```

<a name="column-method-dateTimeTz"></a>

#### `dateTimeTz()`

`dateTimeTz` method は、option の小数点以下の精度での`DATETIME`( timezone 付き)と同等の column を作成します：

```php
$table->dateTimeTz('created_at', precision: 0);
```

<a name="column-method-dateTime"></a>

#### `dateTime()`

`DATETIME` method は、option の小数秒精度を持つ`dateTime`相当の column を作成します：

```php
$table->dateTime('created_at', precision: 0);
```

<a name="column-method-date"></a>

#### `date()`

`DATE` method は、`date`と同等の column を作成します:

```php
$table->date('created_at');
```

<a name="column-method-decimal"></a>

#### `decimal()`

`DECIMAL` method は、指定された精度(全桁数)とスケール(小数点以下の桁数)を持つ`decimal`相当の column を作成します：

```php
$table->decimal('amount', total: 8, places: 2);
```

<a name="column-method-double"></a>

#### `double()`

`DOUBLE`の method は、`double`相当の column を作成します：

```php
$table->double('amount');
```

<a name="column-method-enum"></a>

#### `enum()`

`ENUM` method は、与えられた有効な values で`enum`と同等の column を作成します：

```php
$table->enum('difficulty', ['easy', 'hard']);
```

<a name="column-method-float"></a>

#### `float()`

`FLOAT` method は、指定した精度で `float` 相当の column を作成します:

```php
$table->float('amount', precision: 53);
```

<a name="column-method-foreignId"></a>

#### `foreignId()`

`foreignId` method は、`UNSIGNED BIGINT`と同等の column を作成します：

```php
$table->foreignId('user_id');
```

<a name="column-method-foreignIdFor"></a>

#### `foreignIdFor()`

`foreignIdFor` method は、指定された model class に対して`{column}_id`相当の column を追加します。 column type は、 model の key type により`UNSIGNED BIGINT`、`CHAR(36)`、または`CHAR(26)`になります。

```php
$table->foreignIdFor(User::class);
```

<a name="column-method-foreignUlid"></a>

#### `foreignUlid()`

`foreignUlid` method は、`ULID`と同等の column を作成します：

```php
$table->foreignUlid('user_id');
```

<a name="column-method-foreignUuid"></a>

#### `foreignUuid()`

`foreignUuid` method は、`UUID`と同等の column を作成します：

```php
$table->foreignUuid('user_id');
```

<a name="column-method-geography"></a>

#### `geography()`

`GEOGRAPHY` method は、指定された空間 type および SRID(Spatial Reference System Identifier)を持つ`geography`相当の column を作成します：

```php
$table->geography('coordinates', subtype: 'point', srid: 4326);
```

> [!NOTE]  
> 空間型のサポートは、あなたの database driver に依存します。データベースのドキュメントを参照してください。もし、あなたの application が PostgreSQL の database を使用している場合は、`geography`の method が使用可能になる前に、[PostGIS](https://postgis.net)の拡張をインストールする必要があります。

<a name="column-method-geometry"></a>

#### `geometry()`

`GEOMETRY` method は、指定された空間 type と SRID(空間参照システム識別子)を使用して、`geometry`と同等の column を作成します：

```php
$table->geometry('positions', subtype: 'point', srid: 0);
```

> [!NOTE]  
> 空間型のサポートは、あなたの database driver に依存します。データベースのドキュメンテーションを参照してください。もし、あなたの application が PostgreSQL の database を使用している場合、`geometry` method を使用する前に[PostGIS](https://postgis.net)拡張機能をインストールする必要があります。

<a name="column-method-id"></a>

#### `id()`

`id` method は、`bigIncrements` method の別名です。 default では、この method は`id`列を作成しますが、列に別の名前を付けたい場合は、列名を渡すこともできます。

```php
$table->id();
```

<a name="column-method-increments"></a>

#### `increments()`

`increments` method は、 primary key として自動インクリメントする`UNSIGNED INTEGER`相当の column を作成します。

```php
$table->increments('id');
```

<a name="column-method-integer"></a>

#### `integer()`

`INTEGER` method は、`integer`相当の column を作成します。

```php
$table->integer('votes');
```

<a name="column-method-ipAddress"></a>

#### `ipAddress()`

`ipAddress` method は、`VARCHAR`に相当する column を作成します：

```php
$table->ipAddress('visitor');
```

PostgreSQL を使用するとき、`INET` column が作成されます。

<a name="column-method-json"></a>

#### `json()`

`JSON` method は`json`が対応する column を作成します:

```php
$table->json('options');
```

<a name="column-method-jsonb"></a>

#### `jsonb()`

`JSONB` method は`jsonb`相当の column を作成します：

```php
$table->jsonb('options');
```

<a name="column-method-longText"></a>

#### `longText()`

`LONGTEXT` method は、`longText`と同等な column を作成します。

```php
$table->longText('description');
```

MySQL または MariaDB を使用する際に、`LONGBLOB`相当の column を作成するために、`binary`キャラクターセットを column に適用することができます：

```php
$table->longText('data')->charset('binary'); // LONGBLOB
```

<a name="column-method-macAddress"></a>

#### `macAddress()`

`macAddress` 方法は、MAC アドレスを保持することを目的とした列を作成します。PostgreSQL のような database システムでは、この type の data のための専用の列 type があります。他の database システムでは、string に相当する列を使用します。

```php
$table->macAddress('device');
```

<a name="column-method-mediumIncrements"></a>

#### `mediumIncrements()`

`mediumIncrements`の method は、 primary key としての自動インクリメント`UNSIGNED MEDIUMINT`相当の column を作成します：

```php
$table->mediumIncrements('id');
```

<a name="column-method-mediumInteger"></a>

#### `mediumInteger()`

`mediumInteger` method は、`MEDIUMINT`と同等の column を作成します：

```php
$table->mediumInteger('votes');
```

<a name="column-method-mediumText"></a>

#### `mediumText()`

`MEDIUMTEXT` method は、`mediumText`に相当する column を作成します。

```php
$table->mediumText('description');
```

MySQL や MariaDB を利用する際、 column に`binary`文字セットを適用して`MEDIUMBLOB`相当の column を作成することができます：

```php
$table->mediumText('data')->charset('binary'); // MEDIUMBLOB
```

<a name="column-method-morphs"></a>

#### `morphs()`

`morphs` method は、`{column}_id`相当の column と`{column}_type` `VARCHAR`相当の column を追加する便利な method です。 `{column}_id`の column type は、 model key の type によって`UNSIGNED BIGINT`、`CHAR(36)`、または`CHAR(26)`になります。

この method は、ポリモーフィックな[Eloquent 関係](/ja/php/laravel/v11.x/08-eloquent-orm/02-eloquent-relationships)に必要な列を定義する際に使用することを目的としています。以下の例では、`taggable_id` と `taggable_type` の列が作成されます:

```php
$table->morphs('taggable');
```

<a name="column-method-nullableTimestamps"></a>

#### `nullableTimestamps()`

`nullableTimestamps` method は[timestamps](#column-method-timestamps) method の alias です：

```php
$table->nullableTimestamps(precision: 0);
```

<a name="column-method-nullableMorphs"></a>

#### `nullableMorphs()`

「'' method ''メソッドは、[morphs](#column-method-morphs)メソッドと似ています。ただし、作成されるカラムは"nullable"となります」

```php
$table->nullableMorphs('taggable');
```

<a name="column-method-nullableUlidMorphs"></a>

#### `nullableUlidMorphs()`

method は[ulidMorphs](#column-method-ulidMorphs)メソッドと同様です。ただし、作成される列は"nullable"になります。

```php
$table->nullableUlidMorphs('taggable');
```

<a name="column-method-nullableUuidMorphs"></a>

#### `nullableUuidMorphs()`

method は[uuidMorphs](#column-method-uuidMorphs)メソッドと似ていますが、作成されたカラムは"nullable"となります。

```php
$table->nullableUuidMorphs('taggable');
```

<a name="column-method-rememberToken"></a>

#### `rememberToken()`

`rememberToken` method は、現在の "remember me" [authenticationtoken](/ja/php/laravel/v11.x/06-security/authentication#remembering-users) を保存することを目的とした、null 許容の `VARCHAR(100)` 相当の column を作成します。

```php
$table->rememberToken();
```

<a name="column-method-set"></a>

#### `set()`

`SET` method は、与えられた有効な values のリストと同等の`set` column を作成します：

```php
$table->set('flavors', ['strawberry', 'vanilla']);
```

<a name="column-method-smallIncrements"></a>

#### `smallIncrements()`

`smallIncrements` method は、 primary key としての自動増分 `UNSIGNED SMALLINT` 相当の column を作成します：

```php
$table->smallIncrements('id');
```

<a name="column-method-smallInteger"></a>

#### `smallInteger()`

`smallInteger` method は、`SMALLINT`に相当する column を作成します。

```php
$table->smallInteger('votes');
```

<a name="column-method-softDeletesTz"></a>

#### `softDeletesTz()`

`softDeletesTz` ""method""は、option で小数点以下の秒を持つ""ヌル可能""な`deleted_at` `TIMESTAMP`(""タイムゾーン""付き)と同等の""column""を追加します。この""column""は、Eloquent の"soft delete"機能に必要な`deleted_at` ""timestamp""を保存するためのものです。

```php
$table->softDeletesTz('deleted_at', precision: 0);
```

<a name="column-method-softDeletes"></a>

#### `softDeletes()`

`softDeletes` method は、option の小数秒精度を持つ`deleted_at` `TIMESTAMP`と等しい nullable の列を追加します。この列は、Eloquent の"soft delete"機能に必要な`deleted_at` timestamp を格納するためのものです。

```php
$table->softDeletes('deleted_at', precision: 0);
```

<a name="column-method-string"></a>

#### `string()`

`string` method は指定した length の`VARCHAR`相当の column を作成します:

```php
$table->string('name', length: 100);
```

<a name="column-method-text"></a>

#### `text()`

`TEXT` method は、`text`相当の column を作成します：

```php
$table->text('description');
```

MySQL または MariaDB を利用する際に、`BLOB`相当の column を作成するために、`binary`キャラクターセットを column に適用することができます：

```php
$table->text('data')->charset('binary'); // BLOB
```

<a name="column-method-timeTz"></a>

#### `timeTz()`

`timeTz` method は、option の小数秒精度を持つ`TIME` ( timezone 付き)と同等の column を作成します：

```php
$table->timeTz('sunrise', precision: 0);
```

<a name="column-method-time"></a>

#### `time()`

`TIME` method は、option の小数点以下の秒の精度を持つ`time`相当の column を作成します：

```php
$table->time('sunrise', precision: 0);
```

<a name="column-method-timestampTz"></a>

#### `timestampTz()`

`timestampTz` method は、option の小数点以下の秒数精度を持つ`TIMESTAMP`( timezone 付き)と同等の column を作成します：

```php
$table->timestampTz('added_at', precision: 0);
```

<a name="column-method-timestamp"></a>

#### `timestamp()`

`TIMESTAMP` method は、option の小数秒精度を持つ`timestamp`相当の column を作成します：

```php
$table->timestamp('added_at', precision: 0);
```

<a name="column-method-timestampsTz"></a>

#### `timestampsTz()`

`timestampsTz` method は、option で小数秒の精度を持つ、タイムゾーン付きの`created_at`および`updated_at` `TIMESTAMP`相当の列を作成します。

```php
$table->timestampsTz(precision: 0);
```

<a name="column-method-timestamps"></a>

#### `timestamps()`

`timestamps` method は、オプションで小数点以下の秒の精度を持つ`created_at`と`updated_at`の`TIMESTAMP`相当のカラムを作成します：

```php
$table->timestamps(precision: 0);
```

<a name="column-method-tinyIncrements"></a>

#### `tinyIncrements()`

`tinyIncrements` method は、オートインクリメントの`UNSIGNED TINYINT`相当の column を primary key として生成します：

```php
$table->tinyIncrements('id');
```

<a name="column-method-tinyInteger"></a>

#### `tinyInteger()`

`tinyInteger` method は、`TINYINT`相当の column を作成します：

```php
$table->tinyInteger('votes');
```

<a name="column-method-tinyText"></a>

#### `tinyText()`

`TINYTEXT` method は、`tinyText`相当の column を作成します。

```php
$table->tinyText('notes');
```

MySQL や MariaDB を利用する際には、`TINYBLOB`相当の column を作成するために、 column に`binary`文字セットを適用することができます：

```php
$table->tinyText('data')->charset('binary'); // TINYBLOB
```

<a name="column-method-unsignedBigInteger"></a>

#### `unsignedBigInteger()`

`unsignedBigInteger`の method は`UNSIGNED BIGINT`に相当する column を作成します：

```php
$table->unsignedBigInteger('votes');
```

<a name="column-method-unsignedInteger"></a>

#### `unsignedInteger()`

`unsignedInteger` method は、`UNSIGNED INTEGER`相当の column を作成します：

```php
$table->unsignedInteger('votes');
```

<a name="column-method-unsignedMediumInteger"></a>

#### `unsignedMediumInteger()`

`unsignedMediumInteger` method は、`UNSIGNED MEDIUMINT`に相当する column を作成します：

```php
$table->unsignedMediumInteger('votes');
```

<a name="column-method-unsignedSmallInteger"></a>

#### `unsignedSmallInteger()`

`unsignedSmallInteger` method は、`UNSIGNED SMALLINT`に相当する column を作成します：

```php
$table->unsignedSmallInteger('votes');
```

<a name="column-method-unsignedTinyInteger"></a>

#### `unsignedTinyInteger()`

`unsignedTinyInteger`の method は、`UNSIGNED TINYINT`に相当する column を作成します：

```php
$table->unsignedTinyInteger('votes');
```

<a name="column-method-ulidMorphs"></a>

#### `ulidMorphs()`

`ulidMorphs` method は、`{column}_id` `CHAR(26)`相当の column と`{column}_type` `VARCHAR`相当の column を追加する便利な method です。

この method は、 ULID 識別子を使用した多相性の[Eloquent リレーションシップ](/ja/php/laravel/v11.x/08-eloquent-orm/02-eloquent-relationships)に必要な列を定義する際に使用することを意図しています。次の例では、`taggable_id`と`taggable_type`の列が作成されます：

```php
$table->ulidMorphs('taggable');
```

<a name="column-method-uuidMorphs"></a>

#### `uuidMorphs()`

`uuidMorphs` method は、`{column}_id` `CHAR(36)`相当の column と`{column}_type` `VARCHAR`相当の column を追加する便利な method です。

この method は、 UUID 識別子を使用する多態性の[Eloquent 関係](/ja/php/laravel/v11.x/08-eloquent-orm/02-eloquent-relationships)に必要な列を定義する際に使用することを目的としています。以下の例では、`taggable_id`と`taggable_type`の列が作成されます：

```php
$table->uuidMorphs('taggable');
```

<a name="column-method-ulid"></a>

#### `ulid()`

`ULID` method は、`ulid` 相当の column を作成します：

```php
$table->ulid('id');
```

<a name="column-method-uuid"></a>

#### `uuid()`

`UUID` method は、`uuid`相当の column を作成します：

```php
$table->uuid('id');
```

<a name="column-method-year"></a>

#### `year()`

`YEAR` method は、`year`に相当する column を作成します。

```php
$table->year('birth_year');
```

<a name="column-modifiers"></a>

### Column モディファイア

上記の column タイプに加えて、database テーブルに column を追加する際に使用できるいくつかの column 「修飾子」があります。たとえば、column を「null 許容」にするには、`nullable` method を使用します:

```php
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

Schema::table('users', function (Blueprint $table) {
    $table->string('email')->nullable();
});
```

次の表には、利用可能なすべての column 修飾子が含まれています。このリストには[index modifiers](#creating-indexes)は含まれていません：

| 修飾子                              | 説明                                                                                                   |
| ----------------------------------- | ------------------------------------------------------------------------------------------------------ |
| `->after('column')`                 | column の "after" をもう一つの column に配置します( MySQL )。                                          |
| `->autoIncrement()`                 | INTEGER 列を自動インクリメント( primary キー)に設定します。                                            |
| `->charset('utf8mb4')`              | column ( MySQL )の文字セットを指定します。                                                             |
| `->collation('utf8mb4_unicode_ci')` | column に対して照合順序を指定します。                                                                  |
| `->comment('my comment')`           | column に comment を追加します( MySQL / PostgreSQL)。                                                  |
| `->default($value)`                 | column に対する"デフォルト"の value を指定します。                                                     |
| `->first()`                         | column を"first"に配置し、テーブル( MySQL )内に表示します。                                            |
| `->from($integer)`                  | 自動インクリメントフィールドの開始 value を設定します( MySQL / PostgreSQL)。                           |
| `->invisible()`                     | "invisible" を使用して column を `SELECT *` クエリから "見えなく" します( MySQL ")。                   |
| `->nullable($value = true)`         | NULLvalues を列に挿入できるように許可します。                                                          |
| `->storedAs($expression)`           | ストアド生成された column ( MySQL / PostgreSQL / SQLite)を作成します。                                 |
| `->unsigned()`                      | INTEGER カラムを UNSIGNED ( MySQL )として設定します。                                                  |
| `->useCurrent()`                    | TIMESTAMP 列を、default values として CURRENT_TIMESTAMP を使用するように設定します。                   |
| `->useCurrentOnUpdate()`            | レコードが更新されたときに、 TIMESTAMP 列に CURRENT\_ TIMESTAMP を使用するように設定します( MySQL )。  |
| `->virtualAs($expression)`          | column という仮想生成( MySQL / SQLite)を作成します。                                                   |
| `->generatedAs($expression)`        | 指定された sequence options を使用して、アイデンティティの column を作成します(PostgreSQL)。           |
| `->always()`                        | これは、識別用の column (PostgreSQL)に対し、 sequence values が input より優先されることを定義します。 |

<a name="default-expressions"></a>

#### Default 式

`default`修飾子は、 value または`Illuminate\Database\Query\Expression`インスタンスを受け入れます。`Expression`インスタンスを使用すると、 Laravel が value を引用符で囲むのを防ぎ、 database 特有の関数を使用できるようになります。これが特に有用な状況の一つは、 JSON 列に default values を割り当てる必要がある場合です:

```php
<?php

use Illuminate\Support\Facades\Schema;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Database\Query\Expression;
use Illuminate\Database\Migrations\Migration;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('flights', function (Blueprint $table) {
            $table->id();
            $table->json('movies')->default(new Expression('(JSON_ARRAY())'));
            $table->timestamps();
        });
    }
};
```

> [!WARNING]  
> default 式のサポートは、ご使用の database driver と database のバージョン、そしてフィールドの type によります。詳細については、データベースのドキュメンテーションをご参照ください。

<a name="column-order"></a>

#### Column の順番

MySQL database を使用する際、`after` method を使用して、schema の既存の column の後に column を追加することができます：

```php
$table->after('password', function (Blueprint $table) {
    $table->string('address_line1');
    $table->string('address_line2');
    $table->string('city');
});
```

<a name="modifying-columns"></a>

### 列の変更

`change` method を使用すると、既存の column の type や属性を変更することができます。たとえば、`string`column のサイズを増やしたい場合があります。`change` method の action を見るために、`name`column のサイズを 25 から 50 に増やしてみましょう。これを達成するためには、column の新しい状態を定義し、その後で`change` method を呼び出すだけです:

```php
Schema::table('users', function (Blueprint $table) {
    $table->string('name', 50)->change();
});
```

column を変更する際には、 column の定義に保持したいすべての変更を明示的に含める必要があります - すべての attribute が省略されると削除されます。例えば、`unsigned`、`default`、および`comment` attributes を保持するためには、 column を変更する際にそれぞれのモディファイヤを明示的に呼び出す必要があります。

```php
Schema::table('users', function (Blueprint $table) {
    $table->integer('votes')->unsigned()->default(1)->comment('my comment')->change();
});
```

`change` method は、 column のインデックスを変更しません。したがって、 column を変更するときにインデックスを明示的に追加または削除するためにインデックス修飾子を使用することができます。

```php
// Add an index...
$table->bigIncrements('id')->primary()->change();

// Drop an index...
$table->char('postal_code', 10)->unique(false)->change();
```

<a name="renaming-columns"></a>

### カラムの名前変更

column の名前を変更するには、 schema ビルダーが提供する`renameColumn`の method を使用することができます：

```php
Schema::table('users', function (Blueprint $table) {
    $table->renameColumn('from', 'to');
});
```

<a name="dropping-columns"></a>

### 列の削除

`dropColumn`を使うと、schema ビルダー上で column を削除することができます:

```php
Schema::table('users', function (Blueprint $table) {
    $table->dropColumn('votes');
});
```

テーブルから複数のカラムを削除するには、`dropColumn` method に column 名の array を渡すことができます。

```php
Schema::table('users', function (Blueprint $table) {
    $table->dropColumn(['votes', 'avatar', 'location']);
});
```

<a name="available-command-aliases"></a>

#### 利用可能な Command Aliases

Laravel は一般的なタイプの列を削除する関連の便利な方法をいくつか提供しています。これらの方法は以下の表で説明されています：

| Command                            | 説明                                                      |
| ---------------------------------- | --------------------------------------------------------- |
| `$table->dropMorphs('morphable');` | `morphable_id` と `morphable_type` のカラムを削除します。 |
| `$table->dropRememberToken();`     | `remember_token` column を削除する。                      |
| `$table->dropSoftDeletes();`       | `deleted_at` column を削除します。                        |
| `$table->dropSoftDeletesTz();`     | `dropSoftDeletes()`の method のエイリアスです。           |
| `$table->dropTimestamps();`        | `created_at`と`updated_at`のカラムを削除します。          |
| `$table->dropTimestampsTz();`      | `dropTimestamps()` method のエイリアス。                  |

<a name="indexes"></a>

## Indexes

<a name="creating-indexes"></a>

### インデックスの作成

Laravel schema ビルダーは、いくつかの types のインデックスをサポートしています。次の例では、新しい`email` column を作成し、その values が unique であるべきことを指定します。インデックスを作成するためには、`unique` method を column の定義に連結することができます：

```php
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

Schema::table('users', function (Blueprint $table) {
    $table->string('email')->unique();
});
```

または、column を定義した後にインデックスを作成することもできます。そのためには、schema ビルダーブループリントで `unique` method を呼び出す必要があります。この method は、unique インデックスを受け取るべき column の名前を受け取ります:

```php
$table->unique('email');
```

複合(またはコンポジット)インデックスを作成するために、 method に列の array を渡すことさえ可能です：

```php
$table->index(['account_id', 'created_at']);
```

インデックスを作成するとき、 Laravel は自動的にテーブル、 column の名前、そしてインデックスの type に基づいてインデックス名を生成しますが、自分でインデックス名を指定するために、 method に 2 つ目の引数を渡すことができます：

```php
$table->unique('email', 'unique_email');
```

<a name="available-index-types"></a>

#### 利用可能なインデックスタイプ

Laravel の'schema'ビルダーのブループリント'class'は、'Laravel'によってサポートされている各'type'のインデックスを作成するための method を提供します。各インデックス'method'は、インデックスの名前を指定するための option の 2 番目の引数を受け入れます。省略された場合、名前はインデックスに使用されるテーブルと column(s)の名前、およびインデックス'type'から派生します。利用可能なインデックス method それぞれは以下の表で説明されています：

| Command                                          | 説明                                                           |
| ------------------------------------------------ | -------------------------------------------------------------- |
| `$table->primary('id');`                         | primary キーを追加します。                                     |
| `$table->primary(['id', 'parent_id']);`          | 複合キー keys を追加します。                                   |
| `$table->unique('email');`                       | unique インデックスを追加します。                              |
| `$table->index('state');`                        | インデックスを追加します。                                     |
| `$table->fullText('body');`                      | フルテキストインデックス( MySQL / PostgreSQL)を追加します。    |
| `$table->fullText('body')->language('english');` | 指定された言語の全文検索インデックスを追加します(PostgreSQL)。 |
| `$table->spatialIndex('location');`              | 空間インデックスを追加します(SQLite を除く)。                  |

<a name="renaming-indexes"></a>

### インデックスの名前変更

インデックスの名前を変更するには、`renameIndex` method を提供する schema ビルダーブループリントを使用することができます。この method は、最初の引数に現在のインデックス名を、二つ目の引数に希望する名前を受け入れます：

```php
$table->renameIndex('from', 'to')
```

<a name="dropping-indexes"></a>

### インデックスの削除

インデックスを削除するには、インデックス名を指定する必要があります。 default では、 Laravel はテーブル名、索引化された column の名前、インデックスの type に基づいてインデックス名を自動的に割り当てます。以下にいくつかの例を示します。

| Command                                                  | 説明                                                           |
| -------------------------------------------------------- | -------------------------------------------------------------- |
| `$table->dropPrimary('users_id_primary');`               | "users"テーブルから primary キーを削除します。                 |
| `$table->dropUnique('users_email_unique');`              | "users" テーブルから unique インデックスを削除します。         |
| `$table->dropIndex('geo_state_index');`                  | "geo"テーブルから基本的なインデックスを削除します。            |
| `$table->dropFullText('posts_body_fulltext');`           | "posts"テーブルから全文検索インデックスを削除します。          |
| `$table->dropSpatialIndex('geo_location_spatialindex');` | "geo"テーブルから空間インデックスを削除します(SQLite を除く)。 |

インデックスを削除する method に array のカラムを渡すと、テーブル名、カラム、インデックスの type に基づいて従来のインデックス名が生成されます：

```php
Schema::table('geo', function (Blueprint $table) {
    $table->dropIndex(['state']); // Drops index 'geo_state_index'
});
```

<a name="foreign-key-constraints"></a>

### 外部キー制約

Laravel は、外部 key 制約の作成にも対応しています。これは、 database レベルで参照 integrity を強制するために使用されます。例えば、 `posts` テーブルに `user_id` column を定義し、それが`users`テーブルの `id` column を参照するようにしましょう：

```php
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

Schema::table('posts', function (Blueprint $table) {
    $table->unsignedBigInteger('user_id');

    $table->foreign('user_id')->references('id')->on('users');
});
```

この syntax はかなり冗長なので、 Laravel は規約を使用してより良い開発者体験を提供する、追加の簡潔なメソッドを提供します。`foreignId` method を使用して column を作成する場合、上記の例は次のように書き換えることができます。

```php
Schema::table('posts', function (Blueprint $table) {
    $table->foreignId('user_id')->constrained();
});
```

`foreignId` method は、`UNSIGNED BIGINT`に相当する column を作成し、一方で`constrained` method は、参照されるテーブルと column を決定するための規約を使用します。あなたのテーブル名が Laravel の規約と match しない場合は、`constrained` method にそれを手動で提供することができます。また、生成されるインデックスに付けるべき名前も指定することができます：

```php
Schema::table('posts', function (Blueprint $table) {
    $table->foreignId('user_id')->constrained(
        table: 'users', indexName: 'posts_user_id'
    );
});
```

また、制約の "on delete" と "on update" プロパティの望ましい " action " を指定することもできます。

```php
$table->foreignId('user_id')
      ->constrained()
      ->onUpdate('cascade')
      ->onDelete('cascade');
```

これらのアクションについては、代替的で表現豊かな syntax も提供されています:

| Method                        | 説明                                                |
| ----------------------------- | --------------------------------------------------- |
| `$table->cascadeOnUpdate();`  | 更新はカスケード式にすべきです。                    |
| `$table->restrictOnUpdate();` | 更新は制限されるべきです。                          |
| `$table->noActionOnUpdate();` | 更新時に action なし                                |
| `$table->cascadeOnDelete();`  | 削除がカスケード式に行われるべきです。              |
| `$table->restrictOnDelete();` | 削除は制限されるべきです。                          |
| `$table->nullOnDelete();`     | 削除は外部キーの value を null に設定するべきです。 |

追加の[column 修飾子](#column-modifiers)は、`constrained` method の前に呼び出されなければなりません：

```php
$table->foreignId('user_id')
      ->nullable()
      ->constrained();
```

<a name="dropping-foreign-keys"></a>

#### 外部の Keys の削除

外部キーを削除するには、`dropForeign` method を使用し、削除する外部キー制約の名前を引数として渡すことができます。外部キー制約はインデックスと同じ命名規則を使用します。つまり、外部キー制約の名前はテーブルの名前と制約内の列の名前に基づいており、"\_foreign"の接尾辞が続きます：

```php
$table->dropForeign('posts_user_id_foreign');
```

あるいは、外部キーを保持する column 名称を含む array を`dropForeign` method に渡すこともできます。この array は、Laravel の制約命名の規則を使用して外部キー制約の名前に変換されます：

```php
$table->dropForeign(['user_id']);
```

<a name="toggling-foreign-key-constraints"></a>

#### 外部キー制約の切り替え

次の方法を使用して、 migrations 内で外部キー制約を有効にしたり無効にしたりすることができます:

```php
Schema::enableForeignKeyConstraints();

Schema::disableForeignKeyConstraints();

Schema::withoutForeignKeyConstraints(function () {
    // Constraints disabled within this closure...
});
```

> [!WARNING]  
> SQLite は default で外部 keys 制約を無効にします。 SQLite を使用するときは、migrations を作成しようとする前に、database の設定で[外部 keys のサポートを有効にする](/ja/php/laravel/v11.x/07-database/01-database#configuration)ことを確認してください。 さらに、SQLite はテーブル作成時にのみ外部 keys をサポートし、[テーブルが変更されたときはサポートしません](https://www.sqlite.org/omitted.html)。

<a name="events"></a>

## Events

便利のため、各マイグレーション操作は dispatch という[event](/ja/php/laravel/v11.x/05-digging-deeper/events)を発行します。以下のすべての events は基本の`Illuminate\Database\Events\MigrationEvent` class を拡張します：

| Class                                          | 説明                                             |
| ---------------------------------------------- | ------------------------------------------------ |
| `Illuminate\Database\Events\MigrationsStarted` | batch の migrations が実行されようとしています。 |
| `Illuminate\Database\Events\MigrationsEnded`   | batch の migrations が実行を終了しました。       |
| `Illuminate\Database\Events\MigrationStarted`  | single のマイグレーションが実行される予定です。  |
| `Illuminate\Database\Events\MigrationEnded`    | single マイグレーションの実行が終了しました。    |
| `Illuminate\Database\Events\SchemaDumped`      | database schema dump が完了しました。            |
| `Illuminate\Database\Events\SchemaLoaded`      | 既存の database schema dump が読み込まれました。 |
